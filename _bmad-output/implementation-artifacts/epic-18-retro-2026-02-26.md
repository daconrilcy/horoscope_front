# Rétrospective Epic 18 — Astro Profile (Sun + Asc + UI)

**Date :** 2026-02-26
**Epic :** 18 — Astro Profile — Sun Sign + Ascendant + UI intégrée
**Facilité par :** Bob (Scrum Master)
**Participants :** Cyril (Project Lead), Alice (PO), Charlie (Senior Dev), Dana (QA), Elena (Junior Dev)

---

## RÉSUMÉ EPIC 18

### Métriques de livraison

| Métrique | Valeur |
|----------|--------|
| Stories complétées | 3/3 (100%) |
| Tests | 1054/1054 passants (100%) |
| Régressions | 0 |
| Cycles de code review | Trop nombreux (jugé excessif par Project Lead) |
| Intervention manuelle | Élevée (Cyril a dû corriger des écarts de spec) |

### Objectifs atteints

- Support "heure de naissance inconnue" (ascendant null) ✅
- Suppression sentinelle "00:00" legacy ✅
- Mapping SVG zodiacal complet (12 signes) ✅
- Affichage métadonnées traçabilité (ruleset, house_system) ✅
- Observabilité incohérences (logs sampling) ✅

---

## CE QUI A BIEN MARCHÉ

1. **Robustesse du moteur** — L'ajout du `UserAstroProfileService` avec des tests unitaires massifs (1054 au total) a stabilisé la logique de calcul.
2. **Qualité visuelle finale** — Le Hero et le Natal Chart sont conformes aux attentes visuelles après corrections.
3. **Passe de durcissement 26/02** — Correction des bords de maisons (wrap 360) et metadata versioning.

---

## DÉFIS ET CHALLENGES (AUTO-CRITIQUE)

### 1. Exécution jugée "Moyenne" et "Imparfaite"

Malgré la livraison technique, le Project Lead a dû intervenir manuellement à plusieurs reprises pour rappeler des points pourtant explicitement définis dans la spec.

**Exemples :**
- Oubli de l'affichage `house_system` dans le header (pourtant dans l'AC).
- Problème d'échelle SVG (Libra/Taurus) non détecté à l'auto-contrôle.
- Logique de validation des bords de maisons manquante initialement.

### 2. Manque de rigueur sur le suivi de la Spec

L'équipe s'est trop reposée sur l'IA sans vérifier point par point si CHAQUE critère d'acceptation était physiquement présent et correct dans le code.

---

## ACTION ITEMS (LE PACTE DE RIGUEUR)

### Améliorations Process (Priorité P0)

**1. "Preuve Technique" Obligatoire**
- **Description** : Chaque story DOIT inclure un bloc `## Preuves Techniques` avec les résultats d'exécution des tests (console, logs, unit tests) prouvant le respect de CHAQUE critère d'acceptation (AC).
- **Owner** : Dana (QA) + Bob (SM)
- **Succès** : Zéro oubli de spec signalé par Cyril en review.

**2. Guideline "Maquette → Code" (Dette Retardée)**
- **Description** : Création du guide `docs/guidelines/mockup-to-code.md` pour standardiser l'extraction des specs visuelles.
- **Owner** : Charlie (Senior Dev)
- **Deadline** : Bloquant avant de commencer l'Épique 19.

**3. Protocole d'Auto-Contrôle Forcé**
- **Description** : Ajout d'une section `## Auto-Contrôle` systématique dans les fichiers stories avant passage en review.
- **Owner** : Elena (Junior Dev)

---

## READINESS ASSESSMENT EPIC 18

| Dimension | Statut | Notes |
|-----------|--------|-------|
| Tests | ✅ 1054/1054 | |
| Régressions | ✅ 0 | |
| Déploiement | ✅ Prêt | Après corrections du 26/02 |
| Stakeholders | ✅ Accepté | Sous réserve de rigueur accrue |
| Codebase | ✅ Solide | Base saine pour Épique 19 |
| Blockers | ✅ Aucun | |

---

## PROCHAINES ÉTAPES (ÉPIQUE 19)

1. Création de `docs/guidelines/mockup-to-code.md` (Charlie).
2. Lancement Story 19.1 (Guide de lecture) avec application du **Pacte de Rigueur**.
3. Focus sur la persistance `PlaceResolved` (géocodage technique).

---

## MOT DE CLÔTURE

> *"On passe d'un processus mou à une exécution d'élite. Prouvé fait, pas seulement écrit fait."* — Bob (Scrum Master)
